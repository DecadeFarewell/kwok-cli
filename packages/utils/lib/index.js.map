{"version":3,"file":"index.js","names":["_path","_interopRequireDefault","require","_fs","_uuid","e","__esModule","default","interopRequireDefault","obj","pathItem","exports","process","env","NODE_ENV","pkg","path","resolve","requireWebpackConfig","webpackConfigPath","fs","existsSync","Error","error","console","log","cwdPath","cwd","uuid","uuidv4","split","join","packageName","name","library","basePath","publicPath","outputPath","outputManifestPath","requireManifest","packagePath"],"sources":["../src/index.js"],"sourcesContent":["import path from \"path\";\nimport fs from \"fs\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nfunction interopRequireDefault(obj) {\n  return obj && obj.__esModule\n    ? obj\n    : {\n        default: obj,\n      };\n}\n\nexport const pathItem =\n  process.env.NODE_ENV === \"development\" ? \"development\" : \"production\";\n\n// 获取package.json对象\nexport const pkg = require(path.resolve(\"./package.json\"));\n\n// webpack config\nexport function requireWebpackConfig() {\n  const webpackConfigPath = \"./src/webpack.config.js\";\n\n  try {\n    if (fs.existsSync(path.resolve(webpackConfigPath))) {\n      return interopRequireDefault(require(path.resolve(webpackConfigPath)));\n    } else {\n      throw new Error(`webpack.config is Not Found in ${webpackConfigPath}`)\n    }\n  } catch (error) {\n    console.log('error: ', error);\n  }\n}\n\n// 当前工作目录的绝对路径\nexport const cwdPath = process.cwd();\n\n// 每次打包生成唯一id\nexport const uuid = uuidv4().split(\"-\").join(\"\");\n\n// 包名称\nexport const packageName = pkg.name;\n\n// 库名称\nexport const library = `${packageName}`;\n\nexport const basePath = `dist/${packageName}/${uuid}`;\n\n// 资源异步加载路径(原始域名下的路径\nexport const publicPath = `/${basePath}/`;\n\n// 静态资源输出文件路径\nexport const outputPath = path.resolve(basePath);\n\n// manifest输出路径\nexport const outputManifestPath = path.resolve(\n  \"manifest\",\n  pathItem,\n  \"manifest.json\"\n);\n\n// manifest导入\nexport function requireManifest(packagePath) {\n  return require(`${packagePath}/manifest/${pathItem}/manifest.json`);\n}\n"],"mappings":";;;;;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,GAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AAAoC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEpC,SAASG,qBAAqBA,CAACC,GAAG,EAAE;EAClC,OAAOA,GAAG,IAAIA,GAAG,CAACH,UAAU,GACxBG,GAAG,GACH;IACEF,OAAO,EAAEE;EACX,CAAC;AACP;AAEO,MAAMC,QAAQ,GAAAC,OAAA,CAAAD,QAAA,GACnBE,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,GAAG,aAAa,GAAG,YAAY;;AAEvE;AACO,MAAMC,GAAG,GAAAJ,OAAA,CAAAI,GAAA,GAAGb,OAAO,CAACc,aAAI,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAAC;;AAE1D;AACO,SAASC,oBAAoBA,CAAA,EAAG;EACrC,MAAMC,iBAAiB,GAAG,yBAAyB;EAEnD,IAAI;IACF,IAAIC,WAAE,CAACC,UAAU,CAACL,aAAI,CAACC,OAAO,CAACE,iBAAiB,CAAC,CAAC,EAAE;MAClD,OAAOX,qBAAqB,CAACN,OAAO,CAACc,aAAI,CAACC,OAAO,CAACE,iBAAiB,CAAC,CAAC,CAAC;IACxE,CAAC,MAAM;MACL,MAAM,IAAIG,KAAK,CAAC,kCAAkCH,iBAAiB,EAAE,CAAC;IACxE;EACF,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,KAAK,CAAC;EAC/B;AACF;;AAEA;AACO,MAAMG,OAAO,GAAAf,OAAA,CAAAe,OAAA,GAAGd,OAAO,CAACe,GAAG,CAAC,CAAC;;AAEpC;AACO,MAAMC,IAAI,GAAAjB,OAAA,CAAAiB,IAAA,GAAG,IAAAC,QAAM,EAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC;;AAEhD;AACO,MAAMC,WAAW,GAAArB,OAAA,CAAAqB,WAAA,GAAGjB,GAAG,CAACkB,IAAI;;AAEnC;AACO,MAAMC,OAAO,GAAAvB,OAAA,CAAAuB,OAAA,GAAG,GAAGF,WAAW,EAAE;AAEhC,MAAMG,QAAQ,GAAAxB,OAAA,CAAAwB,QAAA,GAAG,QAAQH,WAAW,IAAIJ,IAAI,EAAE;;AAErD;AACO,MAAMQ,UAAU,GAAAzB,OAAA,CAAAyB,UAAA,GAAG,IAAID,QAAQ,GAAG;;AAEzC;AACO,MAAME,UAAU,GAAA1B,OAAA,CAAA0B,UAAA,GAAGrB,aAAI,CAACC,OAAO,CAACkB,QAAQ,CAAC;;AAEhD;AACO,MAAMG,kBAAkB,GAAA3B,OAAA,CAAA2B,kBAAA,GAAGtB,aAAI,CAACC,OAAO,CAC5C,UAAU,EACVP,QAAQ,EACR,eACF,CAAC;;AAED;AACO,SAAS6B,eAAeA,CAACC,WAAW,EAAE;EAC3C,OAAOtC,OAAO,CAAC,GAAGsC,WAAW,aAAa9B,QAAQ,gBAAgB,CAAC;AACrE","ignoreList":[]}