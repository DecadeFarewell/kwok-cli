{"version":3,"file":"webpack.style.js","names":["_miniCssExtractPlugin","_interopRequireDefault","require","_utils","e","__esModule","default","cssLoader","less","modules","postcssLoaderOptions","sassLoaderOptions","lessLoaderOptions","requireWebpackConfig","list","loader","MiniCssExtractPlugin","options","concat","_default","plugins","ignoreOrder","module","rules","test","oneOf","resourceQuery","use"],"sources":["../../src/webpack/webpack.style.js"],"sourcesContent":["import MiniCssExtractPlugin from \"mini-css-extract-plugin\";\nimport { requireWebpackConfig } from \"@kwok/utils\";\n\nfunction cssLoader(less = false, modules = false) {\n  const {\n    postcssLoaderOptions = {},\n    sassLoaderOptions = {},\n    lessLoaderOptions = {},\n  } = requireWebpackConfig();\n\n  const list = [\n    {\n      loader: MiniCssExtractPlugin.loader,\n    },\n    {\n      loader: \"css-loader\",\n    },\n    {\n      loader: \"postcss-loader\",\n      options: postcssLoaderOptions,\n    },\n  ];\n  if (less) {\n    return list.concat({\n      loader: \"less-loader\",\n      options: lessLoaderOptions,\n    });\n  } else {\n    return list.concat({\n      loader: \"sass-loader\",\n      options: sassLoaderOptions,\n    });\n  }\n}\n\n// 样式配置\nexport default function () {\n  return {\n    plugins: [\n      new MiniCssExtractPlugin({\n        ignoreOrder: true,\n      }),\n    ],\n    module: {\n      rules: [\n        {\n          test: /\\.(css|sass|scss)$/,\n          oneOf: [\n            {\n              resourceQuery: /module=true/,\n              use: cssLoader(false, true),\n            },\n            {\n              use: cssLoader(false, false),\n            },\n          ],\n        },\n        {\n          test: /\\.less$/,\n          oneOf: [\n            {\n              // svg vue 组件化\n              resourceQuery: /module=true/,\n              use: cssLoader(true, true),\n            },\n            {\n              use: cssLoader(true, false),\n            },\n          ],\n        },\n      ],\n    },\n  };\n}\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AAAmD,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEnD,SAASG,SAASA,CAACC,IAAI,GAAG,KAAK,EAAEC,OAAO,GAAG,KAAK,EAAE;EAChD,MAAM;IACJC,oBAAoB,GAAG,CAAC,CAAC;IACzBC,iBAAiB,GAAG,CAAC,CAAC;IACtBC,iBAAiB,GAAG,CAAC;EACvB,CAAC,GAAG,IAAAC,2BAAoB,EAAC,CAAC;EAE1B,MAAMC,IAAI,GAAG,CACX;IACEC,MAAM,EAAEC,6BAAoB,CAACD;EAC/B,CAAC,EACD;IACEA,MAAM,EAAE;EACV,CAAC,EACD;IACEA,MAAM,EAAE,gBAAgB;IACxBE,OAAO,EAAEP;EACX,CAAC,CACF;EACD,IAAIF,IAAI,EAAE;IACR,OAAOM,IAAI,CAACI,MAAM,CAAC;MACjBH,MAAM,EAAE,aAAa;MACrBE,OAAO,EAAEL;IACX,CAAC,CAAC;EACJ,CAAC,MAAM;IACL,OAAOE,IAAI,CAACI,MAAM,CAAC;MACjBH,MAAM,EAAE,aAAa;MACrBE,OAAO,EAAEN;IACX,CAAC,CAAC;EACJ;AACF;;AAEA;AACe,SAAAQ,SAAA,EAAY;EACzB,OAAO;IACLC,OAAO,EAAE,CACP,IAAIJ,6BAAoB,CAAC;MACvBK,WAAW,EAAE;IACf,CAAC,CAAC,CACH;IACDC,MAAM,EAAE;MACNC,KAAK,EAAE,CACL;QACEC,IAAI,EAAE,oBAAoB;QAC1BC,KAAK,EAAE,CACL;UACEC,aAAa,EAAE,aAAa;UAC5BC,GAAG,EAAEpB,SAAS,CAAC,KAAK,EAAE,IAAI;QAC5B,CAAC,EACD;UACEoB,GAAG,EAAEpB,SAAS,CAAC,KAAK,EAAE,KAAK;QAC7B,CAAC;MAEL,CAAC,EACD;QACEiB,IAAI,EAAE,SAAS;QACfC,KAAK,EAAE,CACL;UACE;UACAC,aAAa,EAAE,aAAa;UAC5BC,GAAG,EAAEpB,SAAS,CAAC,IAAI,EAAE,IAAI;QAC3B,CAAC,EACD;UACEoB,GAAG,EAAEpB,SAAS,CAAC,IAAI,EAAE,KAAK;QAC5B,CAAC;MAEL,CAAC;IAEL;EACF,CAAC;AACH","ignoreList":[]}