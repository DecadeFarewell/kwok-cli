"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _webpack = _interopRequireDefault(require("webpack"));
var _cliProgress = _interopRequireDefault(require("cli-progress"));
var _utils = require("@kwok/utils");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
const cliProgressBar = new _cliProgress.default.Bar({
  // clearOnComplete: true,
  stopOnComplete: true,
  linewrap: true,
  hideCursor: true
}, {
  format: "@kwok webpack progress [{bar}] {percentage}% | ETA: {eta}s | {text}",
  barCompleteChar: "=",
  barIncompleteChar: "-"
});
function handler(percentage, ...args) {
  if (!cliProgressBar.isActive) {
    cliProgressBar.start(1, 0);
  }
  cliProgressBar.update(percentage, {
    text: args.join(" ")
  });
}
var _default = exports.default = {
  mode: process.env.NODE_ENV === "development" ? "development" : "production",
  entry: './src/client/index.js',
  module: {
    rules: [{
      test: /\.js$/,
      exclude: /node_modules/,
      use: {
        loader: 'babel-loader'
      }
    }]
  },
  plugins: [
  // 忽略第三方包指定目录，让这些目录不要被打包进去。
  // 打包时忽略momemt这个包中xxx/locale/ 目录下的所有内容
  new _webpack.default.IgnorePlugin({
    resourceRegExp: /^\.\/locale$/,
    contextRegExp: /moment$/
  }),
  // 进度
  new _webpack.default.ProgressPlugin(handler)]
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfd2VicGFjayIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NsaVByb2dyZXNzIiwiX3V0aWxzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY2xpUHJvZ3Jlc3NCYXIiLCJjbGlQcm9ncmVzcyIsIkJhciIsInN0b3BPbkNvbXBsZXRlIiwibGluZXdyYXAiLCJoaWRlQ3Vyc29yIiwiZm9ybWF0IiwiYmFyQ29tcGxldGVDaGFyIiwiYmFySW5jb21wbGV0ZUNoYXIiLCJoYW5kbGVyIiwicGVyY2VudGFnZSIsImFyZ3MiLCJpc0FjdGl2ZSIsInN0YXJ0IiwidXBkYXRlIiwidGV4dCIsImpvaW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJtb2RlIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiZW50cnkiLCJtb2R1bGUiLCJydWxlcyIsInRlc3QiLCJleGNsdWRlIiwidXNlIiwibG9hZGVyIiwicGx1Z2lucyIsIndlYnBhY2siLCJJZ25vcmVQbHVnaW4iLCJyZXNvdXJjZVJlZ0V4cCIsImNvbnRleHRSZWdFeHAiLCJQcm9ncmVzc1BsdWdpbiJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy93ZWJwYWNrL3dlYnBhY2suYmFzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgd2VicGFjayBmcm9tIFwid2VicGFja1wiO1xuaW1wb3J0IGNsaVByb2dyZXNzIGZyb20gJ2NsaS1wcm9ncmVzcyc7XG5pbXBvcnQgeyBjd2RQYXRoIH0gZnJvbSBcIkBrd29rL3V0aWxzXCI7XG5cbmNvbnN0IGNsaVByb2dyZXNzQmFyID0gbmV3IGNsaVByb2dyZXNzLkJhcihcbiAge1xuICAgIC8vIGNsZWFyT25Db21wbGV0ZTogdHJ1ZSxcbiAgICBzdG9wT25Db21wbGV0ZTogdHJ1ZSxcbiAgICBsaW5ld3JhcDogdHJ1ZSxcbiAgICBoaWRlQ3Vyc29yOiB0cnVlLFxuICB9LFxuICB7XG4gICAgZm9ybWF0OlxuICAgICAgXCJAa3dvayB3ZWJwYWNrIHByb2dyZXNzIFt7YmFyfV0ge3BlcmNlbnRhZ2V9JSB8IEVUQToge2V0YX1zIHwge3RleHR9XCIsXG4gICAgYmFyQ29tcGxldGVDaGFyOiBcIj1cIixcbiAgICBiYXJJbmNvbXBsZXRlQ2hhcjogXCItXCIsXG4gIH1cbik7XG5mdW5jdGlvbiBoYW5kbGVyKHBlcmNlbnRhZ2UsIC4uLmFyZ3MpIHtcbiAgaWYgKCFjbGlQcm9ncmVzc0Jhci5pc0FjdGl2ZSkge1xuICAgIGNsaVByb2dyZXNzQmFyLnN0YXJ0KDEsIDApO1xuICB9XG4gIGNsaVByb2dyZXNzQmFyLnVwZGF0ZShwZXJjZW50YWdlLCB7IHRleHQ6IGFyZ3Muam9pbihcIiBcIikgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbW9kZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIiA/IFwiZGV2ZWxvcG1lbnRcIiA6IFwicHJvZHVjdGlvblwiLFxuICBlbnRyeTogJy4vc3JjL2NsaWVudC9pbmRleC5qcycsXG4gIG1vZHVsZToge1xuICAgIHJ1bGVzOiBbXG4gICAgICB7XG4gICAgICAgIHRlc3Q6IC9cXC5qcyQvLFxuICAgICAgICBleGNsdWRlOiAvbm9kZV9tb2R1bGVzLyxcbiAgICAgICAgdXNlOiB7XG4gICAgICAgICAgbG9hZGVyOiAnYmFiZWwtbG9hZGVyJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSxcbiAgcGx1Z2luczogW1xuICAgIC8vIOW/veeVpeesrOS4ieaWueWMheaMh+WumuebruW9le+8jOiuqei/meS6m+ebruW9leS4jeimgeiiq+aJk+WMhei/m+WOu+OAglxuICAgIC8vIOaJk+WMheaXtuW/veeVpW1vbWVtdOi/meS4quWMheS4rXh4eC9sb2NhbGUvIOebruW9leS4i+eahOaJgOacieWGheWuuVxuICAgIG5ldyB3ZWJwYWNrLklnbm9yZVBsdWdpbih7XG4gICAgICByZXNvdXJjZVJlZ0V4cDogL15cXC5cXC9sb2NhbGUkLyxcbiAgICAgIGNvbnRleHRSZWdFeHA6IC9tb21lbnQkLyxcbiAgICB9KSxcbiAgICAvLyDov5vluqZcbiAgICBuZXcgd2VicGFjay5Qcm9ncmVzc1BsdWdpbihoYW5kbGVyKSxcbiAgXSxcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFlBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUYsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUV0QyxNQUFNRyxjQUFjLEdBQUcsSUFBSUMsb0JBQVcsQ0FBQ0MsR0FBRyxDQUN4QztFQUNFO0VBQ0FDLGNBQWMsRUFBRSxJQUFJO0VBQ3BCQyxRQUFRLEVBQUUsSUFBSTtFQUNkQyxVQUFVLEVBQUU7QUFDZCxDQUFDLEVBQ0Q7RUFDRUMsTUFBTSxFQUNKLHFFQUFxRTtFQUN2RUMsZUFBZSxFQUFFLEdBQUc7RUFDcEJDLGlCQUFpQixFQUFFO0FBQ3JCLENBQ0YsQ0FBQztBQUNELFNBQVNDLE9BQU9BLENBQUNDLFVBQVUsRUFBRSxHQUFHQyxJQUFJLEVBQUU7RUFDcEMsSUFBSSxDQUFDWCxjQUFjLENBQUNZLFFBQVEsRUFBRTtJQUM1QlosY0FBYyxDQUFDYSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztFQUM1QjtFQUNBYixjQUFjLENBQUNjLE1BQU0sQ0FBQ0osVUFBVSxFQUFFO0lBQUVLLElBQUksRUFBRUosSUFBSSxDQUFDSyxJQUFJLENBQUMsR0FBRztFQUFFLENBQUMsQ0FBQztBQUM3RDtBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBbkIsT0FBQSxHQUVjO0VBQ2JvQixJQUFJLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxRQUFRLEtBQUssYUFBYSxHQUFHLGFBQWEsR0FBRyxZQUFZO0VBQzNFQyxLQUFLLEVBQUUsdUJBQXVCO0VBQzlCQyxNQUFNLEVBQUU7SUFDTkMsS0FBSyxFQUFFLENBQ0w7TUFDRUMsSUFBSSxFQUFFLE9BQU87TUFDYkMsT0FBTyxFQUFFLGNBQWM7TUFDdkJDLEdBQUcsRUFBRTtRQUNIQyxNQUFNLEVBQUU7TUFDVjtJQUNGLENBQUM7RUFFTCxDQUFDO0VBQ0RDLE9BQU8sRUFBRTtFQUNQO0VBQ0E7RUFDQSxJQUFJQyxnQkFBTyxDQUFDQyxZQUFZLENBQUM7SUFDdkJDLGNBQWMsRUFBRSxjQUFjO0lBQzlCQyxhQUFhLEVBQUU7RUFDakIsQ0FBQyxDQUFDO0VBQ0Y7RUFDQSxJQUFJSCxnQkFBTyxDQUFDSSxjQUFjLENBQUMxQixPQUFPLENBQUM7QUFFdkMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==