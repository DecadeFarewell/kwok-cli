"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _webpack = _interopRequireDefault(require("webpack"));
var _cliProgress = _interopRequireDefault(require("cli-progress"));
var _utils = require("@kwok/utils");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
const cliProgressBar = new _cliProgress.default.Bar({
  // clearOnComplete: true,
  stopOnComplete: true,
  linewrap: true,
  hideCursor: true
}, {
  format: "@kwok webpack progress [{bar}] {percentage}% | ETA: {eta}s | {text}",
  barCompleteChar: "=",
  barIncompleteChar: "-"
});
function handler(percentage, ...args) {
  if (!cliProgressBar.isActive) {
    cliProgressBar.start(1, 0);
  }
  cliProgressBar.update(percentage, {
    text: args.join(" ")
  });
}
var _default = exports.default = {
  mode: process.env.NODE_ENV === "development" ? "development" : "production",
  module: {
    rules: [{
      test: /\.js$/,
      exclude: /node_modules/,
      use: {
        loader: 'babel-loader'
      }
    }]
  },
  plugins: [
  // 忽略第三方包指定目录，让这些目录不要被打包进去。
  // 打包时忽略momemt这个包中xxx/locale/ 目录下的所有内容
  new _webpack.default.IgnorePlugin({
    resourceRegExp: /^\.\/locale$/,
    contextRegExp: /moment$/
  }),
  // 进度
  new _webpack.default.ProgressPlugin(handler)]
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfd2VicGFjayIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NsaVByb2dyZXNzIiwiX3V0aWxzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY2xpUHJvZ3Jlc3NCYXIiLCJjbGlQcm9ncmVzcyIsIkJhciIsInN0b3BPbkNvbXBsZXRlIiwibGluZXdyYXAiLCJoaWRlQ3Vyc29yIiwiZm9ybWF0IiwiYmFyQ29tcGxldGVDaGFyIiwiYmFySW5jb21wbGV0ZUNoYXIiLCJoYW5kbGVyIiwicGVyY2VudGFnZSIsImFyZ3MiLCJpc0FjdGl2ZSIsInN0YXJ0IiwidXBkYXRlIiwidGV4dCIsImpvaW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJtb2RlIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwibW9kdWxlIiwicnVsZXMiLCJ0ZXN0IiwiZXhjbHVkZSIsInVzZSIsImxvYWRlciIsInBsdWdpbnMiLCJ3ZWJwYWNrIiwiSWdub3JlUGx1Z2luIiwicmVzb3VyY2VSZWdFeHAiLCJjb250ZXh0UmVnRXhwIiwiUHJvZ3Jlc3NQbHVnaW4iXSwic291cmNlcyI6WyIuLi8uLi9zcmMvd2VicGFjay93ZWJwYWNrLmJhc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHdlYnBhY2sgZnJvbSBcIndlYnBhY2tcIjtcbmltcG9ydCBjbGlQcm9ncmVzcyBmcm9tICdjbGktcHJvZ3Jlc3MnO1xuaW1wb3J0IHsgY3dkUGF0aCB9IGZyb20gXCJAa3dvay91dGlsc1wiO1xuXG5jb25zdCBjbGlQcm9ncmVzc0JhciA9IG5ldyBjbGlQcm9ncmVzcy5CYXIoXG4gIHtcbiAgICAvLyBjbGVhck9uQ29tcGxldGU6IHRydWUsXG4gICAgc3RvcE9uQ29tcGxldGU6IHRydWUsXG4gICAgbGluZXdyYXA6IHRydWUsXG4gICAgaGlkZUN1cnNvcjogdHJ1ZSxcbiAgfSxcbiAge1xuICAgIGZvcm1hdDpcbiAgICAgIFwiQGt3b2sgd2VicGFjayBwcm9ncmVzcyBbe2Jhcn1dIHtwZXJjZW50YWdlfSUgfCBFVEE6IHtldGF9cyB8IHt0ZXh0fVwiLFxuICAgIGJhckNvbXBsZXRlQ2hhcjogXCI9XCIsXG4gICAgYmFySW5jb21wbGV0ZUNoYXI6IFwiLVwiLFxuICB9XG4pO1xuZnVuY3Rpb24gaGFuZGxlcihwZXJjZW50YWdlLCAuLi5hcmdzKSB7XG4gIGlmICghY2xpUHJvZ3Jlc3NCYXIuaXNBY3RpdmUpIHtcbiAgICBjbGlQcm9ncmVzc0Jhci5zdGFydCgxLCAwKTtcbiAgfVxuICBjbGlQcm9ncmVzc0Jhci51cGRhdGUocGVyY2VudGFnZSwgeyB0ZXh0OiBhcmdzLmpvaW4oXCIgXCIpIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG1vZGU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIgPyBcImRldmVsb3BtZW50XCIgOiBcInByb2R1Y3Rpb25cIixcbiAgbW9kdWxlOiB7XG4gICAgcnVsZXM6IFtcbiAgICAgIHtcbiAgICAgICAgdGVzdDogL1xcLmpzJC8sXG4gICAgICAgIGV4Y2x1ZGU6IC9ub2RlX21vZHVsZXMvLFxuICAgICAgICB1c2U6IHtcbiAgICAgICAgICBsb2FkZXI6ICdiYWJlbC1sb2FkZXInLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICBdLFxuICB9LFxuICBwbHVnaW5zOiBbXG4gICAgLy8g5b+955Wl56ys5LiJ5pa55YyF5oyH5a6a55uu5b2V77yM6K6p6L+Z5Lqb55uu5b2V5LiN6KaB6KKr5omT5YyF6L+b5Y6744CCXG4gICAgLy8g5omT5YyF5pe25b+955WlbW9tZW106L+Z5Liq5YyF5LiteHh4L2xvY2FsZS8g55uu5b2V5LiL55qE5omA5pyJ5YaF5a65XG4gICAgbmV3IHdlYnBhY2suSWdub3JlUGx1Z2luKHtcbiAgICAgIHJlc291cmNlUmVnRXhwOiAvXlxcLlxcL2xvY2FsZSQvLFxuICAgICAgY29udGV4dFJlZ0V4cDogL21vbWVudCQvLFxuICAgIH0pLFxuICAgIC8vIOi/m+W6plxuICAgIG5ldyB3ZWJwYWNrLlByb2dyZXNzUGx1Z2luKGhhbmRsZXIpLFxuICBdLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsTUFBQSxHQUFBRixPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRXRDLE1BQU1HLGNBQWMsR0FBRyxJQUFJQyxvQkFBVyxDQUFDQyxHQUFHLENBQ3hDO0VBQ0U7RUFDQUMsY0FBYyxFQUFFLElBQUk7RUFDcEJDLFFBQVEsRUFBRSxJQUFJO0VBQ2RDLFVBQVUsRUFBRTtBQUNkLENBQUMsRUFDRDtFQUNFQyxNQUFNLEVBQ0oscUVBQXFFO0VBQ3ZFQyxlQUFlLEVBQUUsR0FBRztFQUNwQkMsaUJBQWlCLEVBQUU7QUFDckIsQ0FDRixDQUFDO0FBQ0QsU0FBU0MsT0FBT0EsQ0FBQ0MsVUFBVSxFQUFFLEdBQUdDLElBQUksRUFBRTtFQUNwQyxJQUFJLENBQUNYLGNBQWMsQ0FBQ1ksUUFBUSxFQUFFO0lBQzVCWixjQUFjLENBQUNhLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0VBQzVCO0VBQ0FiLGNBQWMsQ0FBQ2MsTUFBTSxDQUFDSixVQUFVLEVBQUU7SUFBRUssSUFBSSxFQUFFSixJQUFJLENBQUNLLElBQUksQ0FBQyxHQUFHO0VBQUUsQ0FBQyxDQUFDO0FBQzdEO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFuQixPQUFBLEdBRWM7RUFDYm9CLElBQUksRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFFBQVEsS0FBSyxhQUFhLEdBQUcsYUFBYSxHQUFHLFlBQVk7RUFDM0VDLE1BQU0sRUFBRTtJQUNOQyxLQUFLLEVBQUUsQ0FDTDtNQUNFQyxJQUFJLEVBQUUsT0FBTztNQUNiQyxPQUFPLEVBQUUsY0FBYztNQUN2QkMsR0FBRyxFQUFFO1FBQ0hDLE1BQU0sRUFBRTtNQUNWO0lBQ0YsQ0FBQztFQUVMLENBQUM7RUFDREMsT0FBTyxFQUFFO0VBQ1A7RUFDQTtFQUNBLElBQUlDLGdCQUFPLENBQUNDLFlBQVksQ0FBQztJQUN2QkMsY0FBYyxFQUFFLGNBQWM7SUFDOUJDLGFBQWEsRUFBRTtFQUNqQixDQUFDLENBQUM7RUFDRjtFQUNBLElBQUlILGdCQUFPLENBQUNJLGNBQWMsQ0FBQ3pCLE9BQU8sQ0FBQztBQUV2QyxDQUFDIiwiaWdub3JlTGlzdCI6W119