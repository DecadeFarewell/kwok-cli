"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;
var _miniCssExtractPlugin = _interopRequireDefault(require("mini-css-extract-plugin"));
var _utils = require("@kwok/utils");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function cssLoader(less = false, modules = false) {
  const {
    postcssLoaderOptions = {},
    sassLoaderOptions = {},
    lessLoaderOptions = {}
  } = (0, _utils.requireWebpackConfig)();
  const list = [{
    loader: _miniCssExtractPlugin.default.loader
  }, {
    loader: "css-loader"
  }, {
    loader: "postcss-loader",
    options: postcssLoaderOptions
  }];
  if (less) {
    return list.concat({
      loader: "less-loader",
      options: lessLoaderOptions
    });
  } else {
    return list.concat({
      loader: "sass-loader",
      options: sassLoaderOptions
    });
  }
}

// 样式配置
function _default() {
  return {
    plugins: [new _miniCssExtractPlugin.default({
      ignoreOrder: true
    })],
    module: {
      rules: [{
        test: /\.(css|sass|scss)$/,
        oneOf: [{
          // svg vue 组件化
          resourceQuery: /module=true/,
          use: cssLoader(false, true)
        }, {
          use: cssLoader(false, false)
        }]
      }, {
        test: /\.less$/,
        oneOf: [{
          // svg vue 组件化
          resourceQuery: /module=true/,
          use: cssLoader(true, true)
        }, {
          use: cssLoader(true, false)
        }]
      }]
    }
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbWluaUNzc0V4dHJhY3RQbHVnaW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl91dGlscyIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNzc0xvYWRlciIsImxlc3MiLCJtb2R1bGVzIiwicG9zdGNzc0xvYWRlck9wdGlvbnMiLCJzYXNzTG9hZGVyT3B0aW9ucyIsImxlc3NMb2FkZXJPcHRpb25zIiwicmVxdWlyZVdlYnBhY2tDb25maWciLCJsaXN0IiwibG9hZGVyIiwiTWluaUNzc0V4dHJhY3RQbHVnaW4iLCJvcHRpb25zIiwiY29uY2F0IiwiX2RlZmF1bHQiLCJwbHVnaW5zIiwiaWdub3JlT3JkZXIiLCJtb2R1bGUiLCJydWxlcyIsInRlc3QiLCJvbmVPZiIsInJlc291cmNlUXVlcnkiLCJ1c2UiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvd2VicGFjay93ZWJwYWNrLnN0eWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNaW5pQ3NzRXh0cmFjdFBsdWdpbiBmcm9tIFwibWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cIjtcbmltcG9ydCB7IHJlcXVpcmVXZWJwYWNrQ29uZmlnIH0gZnJvbSBcIkBrd29rL3V0aWxzXCI7XG5cbmZ1bmN0aW9uIGNzc0xvYWRlcihsZXNzID0gZmFsc2UsIG1vZHVsZXMgPSBmYWxzZSkge1xuICBjb25zdCB7XG4gICAgcG9zdGNzc0xvYWRlck9wdGlvbnMgPSB7fSxcbiAgICBzYXNzTG9hZGVyT3B0aW9ucyA9IHt9LFxuICAgIGxlc3NMb2FkZXJPcHRpb25zID0ge30sXG4gIH0gPSByZXF1aXJlV2VicGFja0NvbmZpZygpO1xuXG4gIGNvbnN0IGxpc3QgPSBbXG4gICAge1xuICAgICAgbG9hZGVyOiBNaW5pQ3NzRXh0cmFjdFBsdWdpbi5sb2FkZXIsXG4gICAgfSxcbiAgICB7XG4gICAgICBsb2FkZXI6IFwiY3NzLWxvYWRlclwiLFxuICAgIH0sXG4gICAge1xuICAgICAgbG9hZGVyOiBcInBvc3Rjc3MtbG9hZGVyXCIsXG4gICAgICBvcHRpb25zOiBwb3N0Y3NzTG9hZGVyT3B0aW9ucyxcbiAgICB9LFxuICBdO1xuICBpZiAobGVzcykge1xuICAgIHJldHVybiBsaXN0LmNvbmNhdCh7XG4gICAgICBsb2FkZXI6IFwibGVzcy1sb2FkZXJcIixcbiAgICAgIG9wdGlvbnM6IGxlc3NMb2FkZXJPcHRpb25zLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0LmNvbmNhdCh7XG4gICAgICBsb2FkZXI6IFwic2Fzcy1sb2FkZXJcIixcbiAgICAgIG9wdGlvbnM6IHNhc3NMb2FkZXJPcHRpb25zLFxuICAgIH0pO1xuICB9XG59XG5cbi8vIOagt+W8j+mFjee9rlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIHBsdWdpbnM6IFtcbiAgICAgIG5ldyBNaW5pQ3NzRXh0cmFjdFBsdWdpbih7XG4gICAgICAgIGlnbm9yZU9yZGVyOiB0cnVlLFxuICAgICAgfSksXG4gICAgXSxcbiAgICBtb2R1bGU6IHtcbiAgICAgIHJ1bGVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0ZXN0OiAvXFwuKGNzc3xzYXNzfHNjc3MpJC8sXG4gICAgICAgICAgb25lT2Y6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLy8gc3ZnIHZ1ZSDnu4Tku7bljJZcbiAgICAgICAgICAgICAgcmVzb3VyY2VRdWVyeTogL21vZHVsZT10cnVlLyxcbiAgICAgICAgICAgICAgdXNlOiBjc3NMb2FkZXIoZmFsc2UsIHRydWUpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdXNlOiBjc3NMb2FkZXIoZmFsc2UsIGZhbHNlKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRlc3Q6IC9cXC5sZXNzJC8sXG4gICAgICAgICAgb25lT2Y6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLy8gc3ZnIHZ1ZSDnu4Tku7bljJZcbiAgICAgICAgICAgICAgcmVzb3VyY2VRdWVyeTogL21vZHVsZT10cnVlLyxcbiAgICAgICAgICAgICAgdXNlOiBjc3NMb2FkZXIodHJ1ZSwgdHJ1ZSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB1c2U6IGNzc0xvYWRlcih0cnVlLCBmYWxzZSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gIH07XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxNQUFBLEdBQUFELE9BQUE7QUFBbUQsU0FBQUQsdUJBQUFHLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFbkQsU0FBU0csU0FBU0EsQ0FBQ0MsSUFBSSxHQUFHLEtBQUssRUFBRUMsT0FBTyxHQUFHLEtBQUssRUFBRTtFQUNoRCxNQUFNO0lBQ0pDLG9CQUFvQixHQUFHLENBQUMsQ0FBQztJQUN6QkMsaUJBQWlCLEdBQUcsQ0FBQyxDQUFDO0lBQ3RCQyxpQkFBaUIsR0FBRyxDQUFDO0VBQ3ZCLENBQUMsR0FBRyxJQUFBQywyQkFBb0IsRUFBQyxDQUFDO0VBRTFCLE1BQU1DLElBQUksR0FBRyxDQUNYO0lBQ0VDLE1BQU0sRUFBRUMsNkJBQW9CLENBQUNEO0VBQy9CLENBQUMsRUFDRDtJQUNFQSxNQUFNLEVBQUU7RUFDVixDQUFDLEVBQ0Q7SUFDRUEsTUFBTSxFQUFFLGdCQUFnQjtJQUN4QkUsT0FBTyxFQUFFUDtFQUNYLENBQUMsQ0FDRjtFQUNELElBQUlGLElBQUksRUFBRTtJQUNSLE9BQU9NLElBQUksQ0FBQ0ksTUFBTSxDQUFDO01BQ2pCSCxNQUFNLEVBQUUsYUFBYTtNQUNyQkUsT0FBTyxFQUFFTDtJQUNYLENBQUMsQ0FBQztFQUNKLENBQUMsTUFBTTtJQUNMLE9BQU9FLElBQUksQ0FBQ0ksTUFBTSxDQUFDO01BQ2pCSCxNQUFNLEVBQUUsYUFBYTtNQUNyQkUsT0FBTyxFQUFFTjtJQUNYLENBQUMsQ0FBQztFQUNKO0FBQ0Y7O0FBRUE7QUFDZSxTQUFBUSxTQUFBLEVBQVk7RUFDekIsT0FBTztJQUNMQyxPQUFPLEVBQUUsQ0FDUCxJQUFJSiw2QkFBb0IsQ0FBQztNQUN2QkssV0FBVyxFQUFFO0lBQ2YsQ0FBQyxDQUFDLENBQ0g7SUFDREMsTUFBTSxFQUFFO01BQ05DLEtBQUssRUFBRSxDQUNMO1FBQ0VDLElBQUksRUFBRSxvQkFBb0I7UUFDMUJDLEtBQUssRUFBRSxDQUNMO1VBQ0U7VUFDQUMsYUFBYSxFQUFFLGFBQWE7VUFDNUJDLEdBQUcsRUFBRXBCLFNBQVMsQ0FBQyxLQUFLLEVBQUUsSUFBSTtRQUM1QixDQUFDLEVBQ0Q7VUFDRW9CLEdBQUcsRUFBRXBCLFNBQVMsQ0FBQyxLQUFLLEVBQUUsS0FBSztRQUM3QixDQUFDO01BRUwsQ0FBQyxFQUNEO1FBQ0VpQixJQUFJLEVBQUUsU0FBUztRQUNmQyxLQUFLLEVBQUUsQ0FDTDtVQUNFO1VBQ0FDLGFBQWEsRUFBRSxhQUFhO1VBQzVCQyxHQUFHLEVBQUVwQixTQUFTLENBQUMsSUFBSSxFQUFFLElBQUk7UUFDM0IsQ0FBQyxFQUNEO1VBQ0VvQixHQUFHLEVBQUVwQixTQUFTLENBQUMsSUFBSSxFQUFFLEtBQUs7UUFDNUIsQ0FBQztNQUVMLENBQUM7SUFFTDtFQUNGLENBQUM7QUFDSCIsImlnbm9yZUxpc3QiOltdfQ==