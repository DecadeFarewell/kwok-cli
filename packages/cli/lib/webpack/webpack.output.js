"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _webpackAssetsManifest = _interopRequireDefault(require("webpack-assets-manifest"));
var _utils = require("@kwok/utils");
var _htmlWebpackPlugin = _interopRequireDefault(require("html-webpack-plugin"));
var _path = _interopRequireDefault(require("path"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
var _default = exports.default = {
  context: _utils.cwdPath,
  // 基础目录，绝对路径，用于从配置中解析入口点(entry point)和 加载器(loader)
  target: ["web", "es5"],
  output: {
    path: _utils.outputPath,
    // publicPath: "auto",
    publicPath: _utils.publicPath,
    clean: false,
    // 每次构建前是否清空 output.path 文件夹内容
    crossOriginLoading: "anonymous",
    // 通过使用 JSONP 来添加脚本标签，实现按需加载模块，anonymous： 不带凭据(credential) 启用跨域加载，
    chunkLoadingGlobal: "Kwok" // 定义一个全局的变量，用于chunk的加载（// note: 暂时没发现有什么应用场景）
  },
  plugins: [
  // 生成 manifest.json
  new _webpackAssetsManifest.default({
    output: _utils.outputManifestPath,
    writeToDisk: true,
    integrity: true,
    // 输出资源hash值
    integrityHashes: ["sha384"],
    // 需要 webpack-subresource-integrity 配合
    publicPath: _utils.publicPath,
    // 打包资源输出目录
    entrypoints: true,
    entrypointsUseAssets: true,
    done(manifest) {
      console.info(`The manifest has been written to ${manifest.getOutputPath()}`);
    }
  }), new _htmlWebpackPlugin.default({
    template: _path.default.resolve("/src/views/index.html")
  })]
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfd2VicGFja0Fzc2V0c01hbmlmZXN0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfdXRpbHMiLCJfaHRtbFdlYnBhY2tQbHVnaW4iLCJfcGF0aCIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImNvbnRleHQiLCJjd2RQYXRoIiwidGFyZ2V0Iiwib3V0cHV0IiwicGF0aCIsIm91dHB1dFBhdGgiLCJwdWJsaWNQYXRoIiwiY2xlYW4iLCJjcm9zc09yaWdpbkxvYWRpbmciLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJwbHVnaW5zIiwiV2VicGFja0Fzc2V0c2Zlc3RQbHVnaW4iLCJvdXRwdXRNYW5pZmVzdFBhdGgiLCJ3cml0ZVRvRGlzayIsImludGVncml0eSIsImludGVncml0eUhhc2hlcyIsImVudHJ5cG9pbnRzIiwiZW50cnlwb2ludHNVc2VBc3NldHMiLCJkb25lIiwibWFuaWZlc3QiLCJjb25zb2xlIiwiaW5mbyIsImdldE91dHB1dFBhdGgiLCJIdG1sV2VicGFja1BsdWdpbiIsInRlbXBsYXRlIiwicmVzb2x2ZSJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy93ZWJwYWNrL3dlYnBhY2sub3V0cHV0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBXZWJwYWNrQXNzZXRzZmVzdFBsdWdpbiBmcm9tIFwid2VicGFjay1hc3NldHMtbWFuaWZlc3RcIjtcbmltcG9ydCB7XG4gIGN3ZFBhdGgsXG4gIG91dHB1dFBhdGgsXG4gIHB1YmxpY1BhdGgsXG4gIG91dHB1dE1hbmlmZXN0UGF0aCxcbn0gZnJvbSBcIkBrd29rL3V0aWxzXCI7XG5pbXBvcnQgSHRtbFdlYnBhY2tQbHVnaW4gZnJvbSBcImh0bWwtd2VicGFjay1wbHVnaW5cIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY29udGV4dDogY3dkUGF0aCwgLy8g5Z+656GA55uu5b2V77yM57ud5a+56Lev5b6E77yM55So5LqO5LuO6YWN572u5Lit6Kej5p6Q5YWl5Y+j54K5KGVudHJ5IHBvaW50KeWSjCDliqDovb3lmagobG9hZGVyKVxuICB0YXJnZXQ6IFtcIndlYlwiLCBcImVzNVwiXSxcbiAgb3V0cHV0OiB7XG4gICAgcGF0aDogb3V0cHV0UGF0aCxcbiAgICAvLyBwdWJsaWNQYXRoOiBcImF1dG9cIixcbiAgICBwdWJsaWNQYXRoLFxuICAgIGNsZWFuOiBmYWxzZSwgLy8g5q+P5qyh5p6E5bu65YmN5piv5ZCm5riF56m6IG91dHB1dC5wYXRoIOaWh+S7tuWkueWGheWuuVxuICAgIGNyb3NzT3JpZ2luTG9hZGluZzogXCJhbm9ueW1vdXNcIiwgLy8g6YCa6L+H5L2/55SoIEpTT05QIOadpea3u+WKoOiEmuacrOagh+etvu+8jOWunueOsOaMiemcgOWKoOi9veaooeWdl++8jGFub255bW91c++8miDkuI3luKblh63mja4oY3JlZGVudGlhbCkg5ZCv55So6Leo5Z+f5Yqg6L2977yMXG4gICAgY2h1bmtMb2FkaW5nR2xvYmFsOiBcIkt3b2tcIiwgLy8g5a6a5LmJ5LiA5Liq5YWo5bGA55qE5Y+Y6YeP77yM55So5LqOY2h1bmvnmoTliqDovb3vvIgvLyBub3RlOiDmmoLml7bmsqHlj5HnjrDmnInku4DkuYjlupTnlKjlnLrmma/vvIlcbiAgfSxcbiAgcGx1Z2luczogW1xuICAgIC8vIOeUn+aIkCBtYW5pZmVzdC5qc29uXG4gICAgbmV3IFdlYnBhY2tBc3NldHNmZXN0UGx1Z2luKHtcbiAgICAgIG91dHB1dDogb3V0cHV0TWFuaWZlc3RQYXRoLFxuICAgICAgd3JpdGVUb0Rpc2s6IHRydWUsXG4gICAgICBpbnRlZ3JpdHk6IHRydWUsIC8vIOi+k+WHuui1hOa6kGhhc2jlgLxcbiAgICAgIGludGVncml0eUhhc2hlczogW1wic2hhMzg0XCJdLCAvLyDpnIDopoEgd2VicGFjay1zdWJyZXNvdXJjZS1pbnRlZ3JpdHkg6YWN5ZCIXG4gICAgICBwdWJsaWNQYXRoLCAvLyDmiZPljIXotYTmupDovpPlh7rnm67lvZVcbiAgICAgIGVudHJ5cG9pbnRzOiB0cnVlLFxuICAgICAgZW50cnlwb2ludHNVc2VBc3NldHM6IHRydWUsXG4gICAgICBkb25lKG1hbmlmZXN0KSB7XG4gICAgICAgIGNvbnNvbGUuaW5mbyhcbiAgICAgICAgICBgVGhlIG1hbmlmZXN0IGhhcyBiZWVuIHdyaXR0ZW4gdG8gJHttYW5pZmVzdC5nZXRPdXRwdXRQYXRoKCl9YFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICB9KSxcblxuICAgIG5ldyBIdG1sV2VicGFja1BsdWdpbih7XG4gICAgICB0ZW1wbGF0ZTogcGF0aC5yZXNvbHZlKFwiL3NyYy92aWV3cy9pbmRleC5odG1sXCIpLFxuICAgIH0pLFxuICBdLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsc0JBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE1BQUEsR0FBQUQsT0FBQTtBQU1BLElBQUFFLGtCQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBd0IsU0FBQUQsdUJBQUFLLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVUO0VBQ2JHLE9BQU8sRUFBRUMsY0FBTztFQUFFO0VBQ2xCQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDO0VBQ3RCQyxNQUFNLEVBQUU7SUFDTkMsSUFBSSxFQUFFQyxpQkFBVTtJQUNoQjtJQUNBQyxVQUFVLEVBQVZBLGlCQUFVO0lBQ1ZDLEtBQUssRUFBRSxLQUFLO0lBQUU7SUFDZEMsa0JBQWtCLEVBQUUsV0FBVztJQUFFO0lBQ2pDQyxrQkFBa0IsRUFBRSxNQUFNLENBQUU7RUFDOUIsQ0FBQztFQUNEQyxPQUFPLEVBQUU7RUFDUDtFQUNBLElBQUlDLDhCQUF1QixDQUFDO0lBQzFCUixNQUFNLEVBQUVTLHlCQUFrQjtJQUMxQkMsV0FBVyxFQUFFLElBQUk7SUFDakJDLFNBQVMsRUFBRSxJQUFJO0lBQUU7SUFDakJDLGVBQWUsRUFBRSxDQUFDLFFBQVEsQ0FBQztJQUFFO0lBQzdCVCxVQUFVLEVBQVZBLGlCQUFVO0lBQUU7SUFDWlUsV0FBVyxFQUFFLElBQUk7SUFDakJDLG9CQUFvQixFQUFFLElBQUk7SUFDMUJDLElBQUlBLENBQUNDLFFBQVEsRUFBRTtNQUNiQyxPQUFPLENBQUNDLElBQUksQ0FDVixvQ0FBb0NGLFFBQVEsQ0FBQ0csYUFBYSxDQUFDLENBQUMsRUFDOUQsQ0FBQztJQUNIO0VBQ0YsQ0FBQyxDQUFDLEVBRUYsSUFBSUMsMEJBQWlCLENBQUM7SUFDcEJDLFFBQVEsRUFBRXBCLGFBQUksQ0FBQ3FCLE9BQU8sQ0FBQyx1QkFBdUI7RUFDaEQsQ0FBQyxDQUFDO0FBRU4sQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==