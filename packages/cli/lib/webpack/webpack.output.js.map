{"version":3,"file":"webpack.output.js","names":["_webpackAssetsManifest","_interopRequireDefault","require","_utils","e","__esModule","default","_default","exports","context","cwdPath","target","output","filename","path","outputPath","clean","plugins","WebpackAssetsfestPlugin","outputManifestPath","writeToDisk","integrity","integrityHashes","publicPath","done","manifest","console","info","getOutputPath"],"sources":["../../src/webpack/webpack.output.js"],"sourcesContent":["import WebpackAssetsfestPlugin from \"webpack-assets-manifest\";\nimport { cwdPath, outputPath, publicPath, outputManifestPath } from \"@kwok/utils\";\n\nexport default {\n  context: cwdPath, // 基础目录，绝对路径，用于从配置中解析入口点(entry point)和 加载器(loader)\n  target: [\"web\", \"es5\"],\n  output: {\n    filename: 'bundle.js',\n    path: outputPath,\n    clean: true, // 每次构建前清空 output.path 指定的文件夹内容\n  },\n  // output: {\n  //   outputPath,\n  //   publicPath: 'auto',\n  //   // todo: filename？？\n  //   clean: false, // 每次构建前是否清空 output.path 文件夹内容\n  //   crossOriginLoading: \"anonymous\", // 通过使用 JSONP 来添加脚本标签，实现按需加载模块，anonymous： 不带凭据(credential) 启用跨域加载，\n  //   chunkLoadingGlobal: \"Kwok\", // 定义一个全局的变量，用于chunk的加载（// note: 暂时没发现有什么应用场景）\n  // },\n  plugins: [\n    // 生成 manifest.json\n    new WebpackAssetsfestPlugin({\n      output: outputManifestPath,\n      writeToDisk: true,\n      integrity: true, // 输出资源hash值\n      integrityHashes: [\"sha384\"], // 需要 webpack-subresource-integrity 配合\n      publicPath, // 打包资源输出目录\n      done(manifest) {\n        console.info(\n          `The manifest has been written to ${manifest.getOutputPath()}`\n        );\n      },\n    }),\n  ]\n}"],"mappings":";;;;;;AAAA,IAAAA,sBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AAAkF,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEnE;EACbG,OAAO,EAAEC,cAAO;EAAE;EAClBC,MAAM,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC;EACtBC,MAAM,EAAE;IACNC,QAAQ,EAAE,WAAW;IACrBC,IAAI,EAAEC,iBAAU;IAChBC,KAAK,EAAE,IAAI,CAAE;EACf,CAAC;EACD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC,OAAO,EAAE;EACP;EACA,IAAIC,8BAAuB,CAAC;IAC1BN,MAAM,EAAEO,yBAAkB;IAC1BC,WAAW,EAAE,IAAI;IACjBC,SAAS,EAAE,IAAI;IAAE;IACjBC,eAAe,EAAE,CAAC,QAAQ,CAAC;IAAE;IAC7BC,UAAU,EAAVA,iBAAU;IAAE;IACZC,IAAIA,CAACC,QAAQ,EAAE;MACbC,OAAO,CAACC,IAAI,CACV,oCAAoCF,QAAQ,CAACG,aAAa,CAAC,CAAC,EAC9D,CAAC;IACH;EACF,CAAC,CAAC;AAEN,CAAC","ignoreList":[]}